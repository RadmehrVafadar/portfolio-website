:root {
   --pixel-size: 3.5px;
   --grid-cell: calc( var(--pixel-size) * 16);
   --bg: #9fa7e4;
}
@media( min-width: 700px ) {
   :root {
      --pixel-size: 3px;
   }
}
@media( min-width: 1000px ) {
   :root {
      --pixel-size: 4px;
   }
}
/* @media( min-width: 1000px ) {
   :root {
      --pixel-size: 5px;
   }
} */

* {
   font-family: 'Press Start 2P', cursive;
   box-sizing: border-box;
}


body {
   background: var(--bg);
   display: flex;
   align-items: center;
   justify-content: center;
}

.pixel-art {
   image-rendering: pixelated;
}

.frame {
   /* This is just for Pen decoration */
   width: calc(var(--pixel-size) * 150);
   height: calc(var(--pixel-size) * 200);
   outline: var(--pixel-size) solid #fff;
   z-index:1; 
   position:relative;
}

.camera {
   width: calc(var(--pixel-size) * 150);
   height: calc(var(--pixel-size) * 200);
   overflow: hidden;
   background: #83e5f8;
   position:relative;
}

.map {
   image-rendering: pixelated;
   background-image: url('../assets/pixelB.png'); 
   background-size: 100%;
   width: calc(13 * var(--grid-cell));
   height: calc(34 * var(--grid-cell));
   position: relative;
}

.character {
   width: calc( var(--grid-cell)* 2 );
   height: calc( var(--grid-cell)* 2 );
   position: absolute;
   overflow:hidden;
}

.character_spritesheet {
   position: absolute;
   background: url('../assets/walk.png') no-repeat no-repeat;
   background-size: 100%;
   width: calc( var(--grid-cell)* 18 );
   height: calc( var(--grid-cell)* 2 );
}

.character[facing="right"] .character_spritesheet {
   background-position-y: calc( var(--pixel-size) * -32 );
}
.character[facing="up"] .character_spritesheet {
   background-position-y: calc( var(--pixel-size) * -64 );
}
.character[facing="left"] .character_spritesheet {
   background-position-y: calc( var(--pixel-size) * -96 );
}
.character[walking="true"] .character_spritesheet {
   animation: walkAnimation 0.5s steps(4) infinite; 
}

@keyframes walkAnimation {
  from {
    transform: translate3d(0%,0%,0);
  }
  to {
    transform: translate3d(-89%,0%,0);
  }
}

.dpad {
   position:absolute;
   right: calc(var(--pixel-size) * 2);
   bottom: calc(var(--pixel-size) * 2);
   width: calc(var(--pixel-size) * 37);
   height: calc(var(--pixel-size) * 38);
}
.dpad-button {
   appearance:none;
   outline:0;
   border:0;
   background:transparent;
   padding:0;
   cursor:pointer;
}
.dpad-button svg {
   display:block;
   height: calc(var(--pixel-size) * 13);
}

.dpad-button.pressed .Arrow_arrow-inset { stroke:#07c2cc; }
.dpad-button.pressed .Arrow_arrow-body { stroke:#17dfea; }

.dpad-up {
   position: absolute;
   left: calc(var(--pixel-size) * 12);
   top:0;
}
.dpad-down {
   position: absolute;
   bottom:var(--pixel-size);
   left: calc(var(--pixel-size) * 12);
}
.dpad-left {
   position: absolute;
   top: calc(var(--pixel-size) * 12);
   left:0;
}
.dpad-right {
   position: absolute;
   top: calc(var(--pixel-size) * 12);
   right:0;
}

.dpad {
   user-select:none;
}

.corner_topleft,
.corner_topright,
.corner_bottomleft,
.corner_bottomright {
   position: absolute;
   width: var(--pixel-size);
   height: var(--pixel-size);
   background: var(--bg);
   z-index:2;
}

.corner_topleft {
   top: calc(var(--pixel-size) * -1);
   left: calc(var(--pixel-size) * -1);
}
.corner_topright {
   top: calc(var(--pixel-size) * -1);
   right: calc(var(--pixel-size) * -1);
}
.corner_bottomleft {
   bottom: calc(var(--pixel-size) * -1);
   left: calc(var(--pixel-size) * -1);
}
.corner_bottomright {
   bottom: calc(var(--pixel-size) * -1);
   right: calc(var(--pixel-size) * -1);
}

.headline {
   position:absolute;
   top:calc(var(--pixel-size) * -15);
   right:calc(var(--pixel-size)* -20);
   width: calc(var(--pixel-size) * 130)
}

.dialogueBox {
   position:absolute;
   overflow-y: auto;
   left: calc(var(--pixel-size));
   bottom: calc(var(--pixel-size));
   width: calc(var(--pixel-size) * 148);
   height: calc(var(--pixel-size) * 50);

   background-color: whitesmoke;
   border: black solid 4px;
   border-radius: 2em;


   padding: 1em;
   line-height: 1.5em;
   display: none;
   z-index: 4;
}

.actionPrompt {
   position:absolute;
   right: calc(var(--pixel-size) * 2);
   top: calc(var(--pixel-size) * 2);
   padding: 6px 10px;
   background: rgba(0,0,0,0.7);
   color: #fff;
   border-radius: 8px;
   font-size: 12px;
   display: none;
}

/* Mobile action buttons */
.action-buttons {
   position: absolute;
   left: calc(var(--pixel-size) * 2);
   bottom: calc(var(--pixel-size) * 2);
   display: flex;
   gap: calc(var(--pixel-size) * 2);
   z-index: 3;
   display: none;
}
.action-button {
   appearance: none;
   border: 0;
   padding: 8px 12px;
   border-radius: 10px;
   background: rgba(0,0,0,0.75);
   color: #fff;
   font-size: 12px;
}

/* Show mobile actions and move dialogue above controls on touch devices */
@media (pointer: coarse), (hover: none) {
  .action-buttons { display: flex; }
  .dialogueBox { bottom: calc(var(--pixel-size) * 42); }
}

/* Pixel-art action buttons override and key images */
.action-button {
  --btn-surface: #cccccc;
  --btn-dark: #5f5f5f;
  --btn-light: #ffffff;

  appearance: none;
  border: calc(var(--pixel-size)) solid #434343;
  border-radius: 0;
  padding: calc(var(--pixel-size) * 2) calc(var(--pixel-size) * 3);
  background: var(--btn-surface);
  color: #1d1d1d;
  font-size: 12px;
  line-height: 1;
  text-transform: uppercase;
  cursor: pointer;

  box-shadow:
    inset calc(var(--pixel-size) * -1) calc(var(--pixel-size) * -1) 0 0 var(--btn-light),
    inset calc(var(--pixel-size)) calc(var(--pixel-size)) 0 0 var(--btn-dark),
    0 calc(var(--pixel-size)) 0 0 #2b2b2b;
}
.action-button:active {
  box-shadow:
    inset calc(var(--pixel-size)) calc(var(--pixel-size)) 0 0 var(--btn-light),
    inset calc(var(--pixel-size) * -1) calc(var(--pixel-size) * -1) 0 0 var(--btn-dark);
  transform: translateY(calc(var(--pixel-size)));
}
.action-button.btn-space {
  --btn-surface: #17dfea;
  --btn-dark: #07c2cc;
  --btn-light: #aef8ff;
  color: #0a1f22;
}
.action-button.btn-e {
  --btn-surface: #ffd166;
  --btn-dark: #e6ac3c;
  --btn-light: #fff0c2;
  color: #3b2a00;
}
.pixel-art-key {
  display: block;
  height: calc(var(--pixel-size) * 12);
  width: auto;
  image-rendering: pixelated;
}